- [ ] Refactor RatingService to inject Auth and ensure all Firebase calls are within injection context
- [ ] Update createRating method to use addDoc with serverTimestamp() and include authenticated user's UID
- [ ] Modify rate-shop.page.ts to pass user authentication properly to the service
- [ ] Ensure ratings are only stored if user has proper permissions by checking authentication
- [ ] Properly handle errors and log them
- [ ] Test the changes to verify warnings are gone and permissions work correctly
